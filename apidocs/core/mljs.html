<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>MLJS Class: mljs</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">MLJS</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="BasicWrapper.html">BasicWrapper</a>
						</li>
						
						<li>
							<a href="com.marklogic.events.Publisher.html">Publisher</a>
						</li>
						
						<li>
							<a href="com.marklogic.semantic.tripleconfig.html">tripleconfig</a>
						</li>
						
						<li>
							<a href="DigestWrapper.html">DigestWrapper</a>
						</li>
						
						<li>
							<a href="mljs.html">mljs</a>
						</li>
						
						<li>
							<a href="mljs_documentcontext.html">documentcontext</a>
						</li>
						
						<li>
							<a href="mljs_geocontext.html">geocontext</a>
						</li>
						
						<li>
							<a href="mljs_options.html">options</a>
						</li>
						
						<li>
							<a href="mljs_query.html">query</a>
						</li>
						
						<li>
							<a href="mljs_searchcontext.html">searchcontext</a>
						</li>
						
						<li>
							<a href="mljs_searchcontext.defaultparser.html">defaultparser</a>
						</li>
						
						<li>
							<a href="mljs_semanticcontext.html">semanticcontext</a>
						</li>
						
						<li>
							<a href="mljs_sparqlbuilder.html">sparqlbuilder</a>
						</li>
						
						<li>
							<a href="PassThroughWrapper.html">PassThroughWrapper</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="tutorial-001-intro.html">001-intro</a>
						</li>
						
						<li>
							<a href="tutorial-001-widgets-list.html">001-widgets-list</a>
						</li>
						
						<li>
							<a href="tutorial-002-intro-firstpage.html">002-intro-firstpage</a>
						</li>
						
						<li>
							<a href="tutorial-002-widgets-search.html">002-widgets-search</a>
						</li>
						
						<li>
							<a href="tutorial-003-widgets-search-render.html">003-widgets-search-render</a>
						</li>
						
						<li>
							<a href="tutorial-004-widgets-highcharts.html">004-widgets-highcharts</a>
						</li>
						
						<li>
							<a href="tutorial-011-browser-create-app.html">011-browser-create-app</a>
						</li>
						
						<li>
							<a href="tutorial-012-browser-install-app.html">012-browser-install-app</a>
						</li>
						
						<li>
							<a href="tutorial-013-browser-samples-app.html">013-browser-samples-app</a>
						</li>
						
						<li>
							<a href="tutorial-014-browser-workplace.html">014-browser-workplace</a>
						</li>
						
						<li>
							<a href="tutorial-020-angular.html">020-angular</a>
						</li>
						
						<li>
							<a href="tutorial-050-core-contexts.html">050-core-contexts</a>
						</li>
						
						<li>
							<a href="tutorial-051-core-custom-searchcontext-endpoint.html">051-core-custom-searchcontext-endpoint</a>
						</li>
						
						<li>
							<a href="tutorial-052-core-data-series-context.html">052-core-data-series-context</a>
						</li>
						
						<li>
							<a href="tutorial-060-rest-ext.html">060-rest-ext</a>
						</li>
						
						<li>
							<a href="tutorial-901-ontology.html">901-ontology</a>
						</li>
						
						<li>
							<a href="tutorial-999-samples.html">999-samples</a>
						</li>
						
						<li>
							<a href="tutorial-all.html">all</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-001-overview.html">dev1-001-overview</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-002-intro.html">dev1-002-intro</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-003-first-page.html">dev1-003-first-page</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-004-first-widget.html">dev1-004-first-widget</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-005-search-options.html">dev1-005-search-options</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-006-structured-query.html">dev1-006-structured-query</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-007-semantics.html">dev1-007-semantics</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-008-lunch.html">dev1-008-lunch</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-009-blending-mljs.html">dev1-009-blending-mljs</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-010-building-demo.html">dev1-010-building-demo</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-011-demo-jam.html">dev1-011-demo-jam</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-012-home-time.html">dev1-012-home-time</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#padNC">padNC</a>
						</li>
						
						<li>
							<a href="global.html#parseDigest">parseDigest</a>
						</li>
						
						<li>
							<a href="global.html#textToXML">textToXML</a>
						</li>
						
						<li>
							<a href="global.html#xmlToJson">xmlToJson</a>
						</li>
						
						<li>
							<a href="global.html#xmlToJsonSearchResults">xmlToJsonSearchResults</a>
						</li>
						
						<li>
							<a href="global.html#xmlToJsonStrict">xmlToJsonStrict</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: mljs</h1>
<section>

<header>
    <h2>
    mljs
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="mljs"><span class="type-signature"></span>new mljs<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates an mljs instance. Aliased to new mljs().</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-629">line 629</a>
    </li></ul></dd>
    

    
    <dt class="tag-tutorial">Tutorials:</dt>
    <dd class="tag-tutorial">
        <ul>
            <li><a href="tutorial-011-browser-create-app.html">011-browser-create-app</a></li>
        
            <li><a href="tutorial-999-samples.html">999-samples</a></li>
        </ul>
    </dd>
    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="mljs_documentcontext.html">documentcontext</a></dt>
            <dd></dd>
        
            <dt><a href="mljs_geocontext.html">geocontext</a></dt>
            <dd></dd>
        
            <dt><a href="mljs_options.html">options</a></dt>
            <dd></dd>
        
            <dt><a href="mljs_query.html">query</a></dt>
            <dd></dd>
        
            <dt><a href="mljs_searchcontext.html">searchcontext</a></dt>
            <dd></dd>
        
            <dt><a href="mljs_semanticcontext.html">semanticcontext</a></dt>
            <dd></dd>
        
            <dt><a href="mljs_sparqlbuilder.html">sparqlbuilder</a></dt>
            <dd></dd>
        </dl>
    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt>
    <h4 class="name" id="textToXML"><span class="type-signature"></span>textToXML<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>Node JS mljs namespace function mappings</p>
    </div>
    
    
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-10995">line 10995</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="alertcontext"><span class="type-signature"></span>alertcontext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Supports the MLJS WebServer W3C WebSockets based alert channel capability. Requires Node.js running the MLJS web server.
This provides for real time alerting from the database directly to (multiple) browser clients.
This alert context is very low level, leaving higher level message unpacking to application specific plugins.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-10003">line 10003</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="beginTransaction"><span class="type-signature"></span>beginTransaction<span class="signature">(name_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Opens a new transaction. Optionally, specify your own name.</p>
<p><a href="http://docs.marklogic.com/REST/POST/v1/transactions">http://docs.marklogic.com/REST/POST/v1/transactions</a></p>
<p>Note: Each mljs instance can only have one live transaction at a time. This is a limit imposed by myself by design, not by the underlying REST API.
Best to configure a connection per real user-application pair.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the transaction. If not provided, 'client-txn' will be used. Likely not safe on a multi user system.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2642">line 2642</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="collect"><span class="type-signature"></span>collect<span class="signature">(collection, fields_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns all documents in a collection, optionally matching against the specified fields</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>collection</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The collection to list documents from</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>fields_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Not used</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1605">line 1605</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="collections"><span class="type-signature"></span>collections<span class="signature">(parenturi_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Lists the collection URIS underneath the parent uri.
Helper method to fetch collections from the collection lexicon using mljs.valuesCombined().</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>parenturi_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The collection URI under which to retrieve the list of subcollections. Defaults to &quot;/&quot;</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2271">line 2271</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="combined"><span class="type-signature"></span>combined<span class="signature">(structuredQuery_opt, textQuery_opt, optionsdoc, sprops_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a MarkLogic Server V7+ Combined query. This submits options along with the query term. It can also include both structured and plain text query terms in one call.</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>Uses structured search instead of cts:query style searches. See <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_53458">http://docs.marklogic.com/guide/search-dev/search-api#id_53458</a></p>
<p>Use this method in conjunction with the Query Builder {@see mljs.prototype.query}</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>structuredQuery_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The optional structured query JSON to restrict the results by</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>textQuery_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The query string. Optional. (Returns all documents if not supplied, or whatever returns from the additional-query in the json options used)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>optionsdoc</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional query options object to use (NOT the name of query options already saved)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>sprops_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>Additional optional search properties</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2017">line 2017</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="commitTransaction"><span class="type-signature"></span>commitTransaction<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Commits the open transaction</p><p></p>
<p><a href="http://docs.marklogic.com/REST/POST/v1/transactions/*">http://docs.marklogic.com/REST/POST/v1/transactions/*</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2692">line 2692</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="configure"><span class="type-signature"></span>configure<span class="signature">(dboptions)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Provide configuration information to this database. This is merged with the defaults.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>dboptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="mljs.html#dboptions">mljs.dboptions</a></span>


            
            </td>

            

            

            <td class="description last"><p>The DB Options to merge with the default options for this connection.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-652">line 652</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="create"><span class="type-signature"></span>create<span class="signature">(options_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates the database and rest server if it does not already exist</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="mljs.html#dboptions">mljs.dboptions</a></span>


            
            </td>

            

            

            <td class="description last"><p>Optional separate database options. Defaults to normal connection options.
Useful to override if creating an app server for writing content to the modules database.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1060">line 1060</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createAlertContext"><span class="type-signature"></span>createAlertContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates an alert context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3491">line 3491</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createDataContext"><span class="type-signature"></span>createDataContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a data context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3535">line 3535</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createDocumentContext"><span class="type-signature"></span>createDocumentContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a content search context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3502">line 3502</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createGeoContext"><span class="type-signature"></span>createGeoContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a geo (locale) context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3480">line 3480</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createOptions"><span class="type-signature"></span>createOptions<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates an options object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3440">line 3440</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createQuery"><span class="type-signature"></span>createQuery<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates an options object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3449">line 3449</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createSearchContext"><span class="type-signature"></span>createSearchContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a content search context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3469">line 3469</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createSemanticContext"><span class="type-signature"></span>createSemanticContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a semantic context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3524">line 3524</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createSessionContext"><span class="type-signature"></span>createSessionContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a session context object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance).</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3548">line 3548</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createTripleConfig"><span class="type-signature"></span>createTripleConfig<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Factory pattern. Creates a semantic config object referring back to the current database connection. Useful to link to the correct logger, and db settings.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Instantiate externally (See Workplace Context) then call linkContext(contextInstance) for semantic context, which has an instance of this.</li><ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3513">line 3513</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="datacontext"><span class="type-signature"></span>datacontext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Abstracts data collation from many sources, across multiple calls
E.g. one source may be facets from a document query, another triples relating to the subject (reference data),
another still may be cooccurence data.
This class is an extract of visual functionality in the highcharts and openlayers widgets.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-10159">line 10159</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Deletes the specified document</p>
<p><a href="https://docs.marklogic.com/REST/DELETE/v1/documents">https://docs.marklogic.com/REST/DELETE/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>URI of the document to delete</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1579">line 1579</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="deleteGraph"><span class="type-signature"></span>deleteGraph<span class="signature">(uri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Deletes the specified graph from MarkLogic Server</p>
<p><a href="http://docs.marklogic.com/REST/DELETE/v1/graphs">http://docs.marklogic.com/REST/DELETE/v1/graphs</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the graph to delete. Required. (Cannot be 'default')</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2482">line 2482</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="deleteSavedSearch"><span class="type-signature"></span>deleteSavedSearch<span class="signature">(searchname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and
subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Delete the saved search. Assumes already unsubscribed from alerts used by it. (If not, alerts will still fire!)</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3157">line 3157</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="deleteTransform"><span class="type-signature"></span>deleteTransform<span class="signature">(name, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Deletes the named transform</p>
<p><a href="http://docs.marklogic.com/REST/DELETE/v1/config/transforms/[name]">http://docs.marklogic.com/REST/DELETE/v1/config/transforms/[name]</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The internal name of the transform to delete</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback function</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2578">line 2578</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="destroy"><span class="type-signature"></span>destroy<span class="signature">(callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Destroys the database and rest api instance</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1094">line 1094</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="dlscollection"><span class="type-signature"></span>dlscollection<span class="signature">(collection, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - dls.xqy - Adam Fowler adam.fowler@marklogic.com - Fetching documents within specified DLS collection</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>collection</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>DLS collection to list documents who are members of</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3236">line 3236</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="dlscollections"><span class="type-signature"></span>dlscollections<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - dls.xqy - Adam Fowler adam.fowler@marklogic.com - Lists all DLS collections</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3221">line 3221</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="dlsdeclare"><span class="type-signature"></span>dlsdeclare<span class="signature">(uri_or_uris, collection, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - dls.xqy - Adam Fowler adam.fowler@marklogic.com - Declares documents as members of a DLS collection, and enables DLS management</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>uri_or_uris</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>Documents to declare as records</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>collection</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>New DLS collection to add documents to</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3195">line 3195</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="dlsrule"><span class="type-signature"></span>dlsrule<span class="signature">(name, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - dlsrules.xqy - Adam Fowler adam.fowler@marklogic.com - Fetches DLS retention rule</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Name of the Rule to fetch configuration of</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3265">line 3265</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="dlsrules"><span class="type-signature"></span>dlsrules<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - dlsrules.xqy - Adam Fowler adam.fowler@marklogic.com - Lists all DLS retention rules</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3250">line 3250</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="do"><span class="type-signature"></span>do<span class="signature">(options_opt, content_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Function allowing mljs's underlying REST invocation mechanism to be used for an arbitrary request.</p>
<p>Useful for future proofing should some new functionality come out, or bug discovered that prevents
your use of a JavaScript Driver API call.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>{method: &quot;GET|POST|PUT|DELETE&quot;, path: &quot;/v1/somepath?key=value&amp;format=json&quot;}</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>content_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>undefined for GET, DELETE, json for PUT, whatever as required for POST</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>the optional callback to invoke after the method has completed</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-998">line 998</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="exists"><span class="type-signature"></span>exists<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Does this database exist? Returns an object, not boolean, to the callback</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function to invoke</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1021">line 1021</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="fast"><span class="type-signature"></span>fast<span class="signature">(callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Generic wrapper to wrap any mljs code you wish to execute in parallel. E.g. uploading a mahoosive CSV file. Wrap ingestcsv with this and watch it fly!</p>
<p>NOTE: By default all E-node (app server requests, like the ones issued by this JavaScript wrapper) are executed in a map-reduce style. That is to say
they are highly parallelised by the server, automatically, if in a clustered environment. This is NOT what the fast function does. The fast function
is intended to wrap utility functionality (like CSV upload) where it may be possible to make throughput gains by running items in parallel. This is
akin to ML Content Pump (mlcp)'s -thread_count and -transaction_size ingestion options. See defaultdboptions for details</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2774">line 2774</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="forceVersion"><span class="type-signature"></span>forceVersion<span class="signature">(ver)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Forces MLJS to assume the server is a particular version (rather than try to ascertain it itself).</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>ver</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>THe version string. E.g. 6.0-3 or 7.0-1</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-745">line 745</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(docuri, options_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches a document with the given URI.</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/documents">https://docs.marklogic.com/REST/GET/v1/documents</a></p>
<p>options_opt currently supports these options:-</p>
<ul>
<li>transform - the name of the installed transform to use when fetching the document</li></li>
</ul>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI of the document to retrieve</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>Additional optional options to use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1170">line 1170</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getTransform"><span class="type-signature"></span>getTransform<span class="signature">(name, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches the transform XSLT or XQuery document.</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/config/transforms/[name]">http://docs.marklogic.com/REST/GET/v1/config/transforms/[name]</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the transform to return</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function to call. Document will be contained within the JSON result.doc parameter</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2594">line 2594</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getVersion"><span class="type-signature"></span>getVersion<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns the current version string (E.g. 7.0-1) or null if version() has not yet been called.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3312">line 3312</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="graph"><span class="type-signature"></span>graph<span class="signature">(uri_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns the specified graph from MarkLogic Server, or the full default graph. USE CAREFULLY!
Returns the triples as a JSON {subject: &quot;...&quot;, predicate: &quot;...&quot;, object: &quot;...&quot;} array in result.triples, or the raw in result.doc</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/graphs">http://docs.marklogic.com/REST/GET/v1/graphs</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>uri_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the grah to return. If not provided, the default MarkLogic graph (all triples, not just triples not in a named graph) will be returned.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2434">line 2434</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="indexes"><span class="type-signature"></span>indexes<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Checks whether the database contains indexes for all installed search options.</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/config/indexes">http://docs.marklogic.com/REST/GET/v1/config/indexes</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2734">line 2734</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="ingestcsv"><span class="type-signature"></span>ingestcsv<span class="signature">(csvdata, docid_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Takes a csv file and adds to the database.
fast aware method</p>
<p>NOT YET IMPLEMENTED - Shell function only that will never call the callback</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>csvdata</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The CSV text to ingest</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>docid_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional URI of the document to store</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2803">line 2803</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="keyvalue"><span class="type-signature"></span>keyvalue<span class="signature">(key, value, keytype_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a simple key-value search. Of most use to JSON programmers.</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/keyvalue">https://docs.marklogic.com/REST/GET/v1/keyvalue</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The JSON key to use for document retrieval</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The value of the JSON key to match against candidate documents</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>keytype_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>What type to use for the key type. Defaults to 'key'. (i.e. JSON key, not element)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1643">line 1643</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="linkContext"><span class="type-signature"></span>linkContext<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Links context instance to current DB (MLJS) connection instance.
Replaces all create<name>Context() functions</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3459">line 3459</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="list"><span class="type-signature"></span>list<span class="signature">(directory, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Lists all documents in a directory, to the specified depth (default: 1), optionally matching the specified fields</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>directory</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The directory URI to list documents within</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1625">line 1625</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="listTransforms"><span class="type-signature"></span>listTransforms<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>List all transforms available on the REST API instance. Returns their JSON description as per the REST API documentation.</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/config/transforms">http://docs.marklogic.com/REST/GET/v1/config/transforms</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function to invoke. Results in the JSON result.doc parameter</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2609">line 2609</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="merge"><span class="type-signature"></span>merge<span class="signature">(json, docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Updates the document with the specified uri by only modifying the passed in properties.</p><p>
NB May not be possible in V6 REST API elegantly - may need to do a full fetch, update, save.</p>
<p>KNOWN ISSUE: Does not work in 1.6 testing. Use patch() instead.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>json</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The JSON document to merge with the existing document</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI of the document to update</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1421">line 1421</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="mergeGraph"><span class="type-signature"></span>mergeGraph<span class="signature">(triples, uri_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Merges a set of triples in to an n-triples graph. Allows you to specify a named graph (collection) or use the default graph.</p>
<p><a href="http://docs.marklogic.com/REST/POST/v1/graphs">http://docs.marklogic.com/REST/POST/v1/graphs</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>triples</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The raw N-triples (string) or JSON triples (object JSON array) to store</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>uri_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The graph name to replace. If not provided, the default MarkLogic graph (all triples) will be merged.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2397">line 2397</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="metadata"><span class="type-signature"></span>metadata<span class="signature">(docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches the metadata for a document with the given URI. Metadata document returned in result.doc</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/documents">https://docs.marklogic.com/REST/GET/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI of the document whose metadata you want to retrieve.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1200">line 1200</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="properties"><span class="type-signature"></span>properties<span class="signature">(docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches the properties for a document with the given URI. Properties document returned in result.doc</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/documents">https://docs.marklogic.com/REST/GET/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI of the document whose properties you want to retrieve.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1220">line 1220</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="replaceProperty"><span class="type-signature"></span>replaceProperty<span class="signature">(docuri, elementSelectJSON, content, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Uses MarkLogic V7's Patch support to replace or insert a property for the specified document.</p>
<p><a href="https://docs.marklogic.com/REST/POST/v1/documents">https://docs.marklogic.com/REST/POST/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI of the document to patch</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>elementSelectJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">mljs.elementSelectJson</span>


            
            </td>

            

            

            <td class="description last"><p>JSON object containing a namespaces array with prefix and ns elements, an XPath 'context' (parent of the node to replace), and a 'select' XPath (remaining XPath to select child to replace) - {namespaces: [{prefix: &quot;myns&quot;,ns: &quot;http://myns.org/myns&quot;}], context: &quot;//myns:parent&quot;, select: &quot;myns:child[1]&quot;}</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>content</code></td>
            

            <td class="type">
            
                
<span class="param-type">xml</span>
|

<span class="param-type">text</span>


            
            </td>

            

            

            <td class="description last"><p>The document properties context to save</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1522">line 1522</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="rollbackTransaction"><span class="type-signature"></span>rollbackTransaction<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Rolls back the open transaction.</p><p></p>
<p><a href="http://docs.marklogic.com/REST/POST/v1/transactions/*">http://docs.marklogic.com/REST/POST/v1/transactions/*</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2709">line 2709</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="samListSchema"><span class="type-signature"></span>samListSchema<span class="signature">(samurl, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CURSTOM REST API EXTENSION - rdb2rdf.xqy - Adam Fowler adam.fowler@marklogic.com - List DB schema attached to an MLSAM URL endpoint.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>samurl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The endpoint URL of the installed SAM service (uses a JDBC connection)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3323">line 3323</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="samRdb2Rdf"><span class="type-signature"></span>samRdb2Rdf<span class="signature">(config, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CURSTOM REST API EXTENSION - rdb2rdf.xqy - Adam Fowler adam.fowler@marklogic.com - Ingests an RDBMS schema
subset (limited rows per table) in to the MarkLogic Triplestore using W3C RDB2RDF direct mapping.</p>
<p>NB This method relies on ANSI DESCRIBE, COUNT and Information Schema support</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The JSON configuration of the database segment to ingest
{ingest: {
  database: {
    samurl: &quot;http://kojak.demo.marklogic.com:8080/mlsam/mlsql&quot;,
    schema: &quot;test2&quot;
  },
  create: {
    graph: &quot;mynamedgraph&quot;
  },
  selection: {
    mode: &quot;data&quot;,
    table: [&quot;customers&quot;], offset: 0, limit: 100, column: [&quot;col1&quot;,&quot;col2&quot;]
  }
}
}</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3375">line 3375</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="samSchemaInfo"><span class="type-signature"></span>samSchemaInfo<span class="signature">(samurl, schema, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CURSTOM REST API EXTENSION - rdb2rdf.xqy - Adam Fowler adam.fowler@marklogic.com - Describe tables and
relationships in the prescribed schema attached to an MLSAM URL endpoint.</p>
<p>NB This method relies on ANSI DESCRIBE, COUNT and Information Schema support</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>samurl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The endpoint URL of the installed SAM service (uses a JDBC connection)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>schema</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The database schema name.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3343">line 3343</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="save"><span class="type-signature"></span>save<span class="signature">(jsonXmlBinary, docuri_opt, props_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p><p>Saves new docs with GUID-timestamp, new docs with specified id, or updates doc with specified id
NB handle json being an array of multiple docs rather than a single json doc
If no docuri is specified, one is generated by using a combination of the time and a large random number.</p>
<p><a href="https://docs.marklogic.com/REST/PUT/v1/documents">https://docs.marklogic.com/REST/PUT/v1/documents</a></p>
<p>props_opt can be used to provide extra options. These are:-</p>
<ul>
<li><p>collection - The comma delimited string of the collections to add the document to</p>
</li>
<li><p>contentType - The content type (MIME type) of the doc. Useful for uploaded binary documents.</p>
</li>
<li><p>format - The format of the response. Either json (default if not specified) or xml.</p>
</li>
<li><p>permissions - array of permission JSON objects to apply: E.g. [{role: 'secret-write', permissions: 'update|read|delete'}, ...]</p>
</li>
</ul>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>jsonXmlBinary</code></td>
            

            <td class="type">
            
                
<span class="param-type">json</span>
|

<span class="param-type">xml</span>
|

<span class="param-type">file</span>


            
            </td>

            

            

            <td class="description last"><p>The document content to save</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>docuri_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional URI of the document to create</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>props_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The optional additional properties to use.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1276">line 1276</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveAll"><span class="type-signature"></span>saveAll<span class="signature">(doc_array, uri_array_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Inserts many JSON documents. FAST aware, TRANSACTION aware.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>doc_array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The array of document data to store. {@see mljs.prototype.save} for valid values</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>uri_array_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The optional array of URIs to store the documents as. Will generate if not provided</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2814">line 2814</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveAll2"><span class="type-signature"></span>saveAll2<span class="signature">(doc_array, uri_array_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Alternative saveAll function that throttles invoking MarkLogic to a maximum number of simultaneous 'parallel' requests. (JavaScript is never truly parallel)</p>
<p>NB Uses an internal rv class defined in the mljs.js file.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>doc_array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The array of document data to store. {@see mljs.prototype.save} for valid values</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>uri_array_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The optional array of URIs to store the documents as. Will generate if not provided</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2893">line 2893</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveBasicSearch"><span class="type-signature"></span>saveBasicSearch<span class="signature">(searchname, shared, query, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name,
and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save a query as an XML document using the default search grammar (see search:search) with a given name</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>shared</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The search:search compatible query using the default grammar to use for the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2950">line 2950</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveCollectionSearch"><span class="type-signature"></span>saveCollectionSearch<span class="signature">(searchname, shared, collection, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name,
and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save a query that matches documents created within a collection, with a given name</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>shared</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>collection</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The collection to restrict search results to</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2984">line 2984</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveExistingSearch"><span class="type-signature"></span>saveExistingSearch<span class="signature">(searchname, shared, searchdocuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and
subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save an arbitrary search (any cts:query) already stored in the database, with a given name. Enables easy referencing and activation of alerts on this search.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>shared</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchdocuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI to copy the search document from</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3057">line 3057</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveGeoNearSearch"><span class="type-signature"></span>saveGeoNearSearch<span class="signature">(searchname, shared, conSpec, latitude, longitude, radius, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and
subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save a geospatial search based on a point and radius from it, with a given name</p><p>
TODO check if we need to include an alert module name in the options</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>shared</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>conSpec</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The constraint specification JSON. E.g. {type: &quot;element&quot;,ns: &quot;&quot;,element: &quot;location&quot;}</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>latitude</code></td>
            

            <td class="type">
            
                
<span class="param-type">decimal</span>


            
            </td>

            

            

            <td class="description last"><p>The WGS84 latitude for the centre of the radius search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>longitude</code></td>
            

            <td class="type">
            
                
<span class="param-type">decimal</span>


            
            </td>

            

            

            <td class="description last"><p>The WGS84 longitude for the centre of the radius search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>radius</code></td>
            

            <td class="type">
            
                
<span class="param-type">decimal</span>


            
            </td>

            

            

            <td class="description last"><p>The radius in statue (nor nautical) miles</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3022">line 3022</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveGraph"><span class="type-signature"></span>saveGraph<span class="signature">(triples, uri_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Saves a set of triples as an n-triples graph. Allows you to specify a named graph (collection) or use the default graph.</p>
<p><a href="http://docs.marklogic.com/REST/PUT/v1/graphs">http://docs.marklogic.com/REST/PUT/v1/graphs</a></p>
<p>I'm using an easy to interpret JSON triples format. This prevents the user of this function from having to know the
n-triples format. Here is an example:-
triples = [{subject: &quot;http://someiri/#here&quot;, predicate: &quot;http://someiri/#here&quot;, object: &quot;http://someiri/#here&quot;},... ]</p>
<p>Note: We assume that the 'object' if provided as JSON triples is an IRI, not a string or other primitive value.
Construct your own N-triples if you need to provide raw primitive values.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>triples</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The raw N-triples (string) or JSON triples (object JSON array) to store</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>uri_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The graph name to replace. If not provided, the default MarkLogic graph (all triples) will be replaced.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2344">line 2344</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveProperties"><span class="type-signature"></span>saveProperties<span class="signature">(docuri, properties, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Save the properties for a document with the given URI.</p>
<p><a href="https://docs.marklogic.com/REST/PUT/v1/documents">https://docs.marklogic.com/REST/PUT/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>docuri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URI of the document whose properties you want to retrieve.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>properties</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The JSON properties document.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1241">line 1241</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveSearchOptions"><span class="type-signature"></span>saveSearchOptions<span class="signature">(name, searchoptions, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Saves search options with the given name. These are referred to by mljs.structuredSearch.</p>
<p><a href="http://docs.marklogic.com/REST/PUT/v1/config/query/*">http://docs.marklogic.com/REST/PUT/v1/config/query/*</a></p>
<p>For structured search options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
<p>Use this function in conjunction with the Search Options Builder. {@see mljs.prototype.options}</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name to install the search options under</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchoptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>
|

<span class="param-type">XMLDocument</span>


            
            </td>

            

            

            <td class="description last"><p>The search options JSON object. {@see mljs.prototype.options.prototype.toJson}</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2089">line 2089</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveSearchOptionsCheck"><span class="type-signature"></span>saveSearchOptionsCheck<span class="signature">(name, searchoptions, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Call this if you only want to save search options on versions of MarkLogic prior to V7, but want to use
Combined Query if executing on V7 and above.</p>
<p><a href="http://docs.marklogic.com/REST/PUT/v1/config/query/*">http://docs.marklogic.com/REST/PUT/v1/config/query/*</a></p>
<p>For structured search options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
<p>Use this function in conjunction with the Search Options Builder. {@see mljs.prototype.options}</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name to install the search options under</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchoptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The search options JSON object. {@see mljs.prototype.options.prototype.toJson}</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2120">line 2120</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveTransform"><span class="type-signature"></span>saveTransform<span class="signature">(name, transformbinary, type, properties_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Saves a transform to the MarkLogic REST API instance with the given name, content, type and optional properties.</p>
<p><a href="http://docs.marklogic.com/REST/PUT/v1/config/transforms/[name]">http://docs.marklogic.com/REST/PUT/v1/config/transforms/[name]</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The internal name to use for the transform</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>transformbinary</code></td>
            

            <td class="type">
            
                
<span class="param-type">binary</span>
|

<span class="param-type">xmldocument</span>


            
            </td>

            

            

            <td class="description last"><p>The binary JavaScript implementation wrapper, or XML document instance, to persist</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Either 'xslt' or 'xquery' or 'application/xslt+xml' or 'application/xquery' - the mime type of the transform</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>properties_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">json</span>


            
            </td>

            

            

            <td class="description last"><p>Optional properties document for transform metadata. See documentation for a list. E.g. title, transform parameters</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function to call after receiving a server response</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2534">line 2534</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(query_opt, options_opt, start_opt, sprops_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a search:search via REST</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>See supported search grammar <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_41745">http://docs.marklogic.com/guide/search-dev/search-api#id_41745</a></p>
<p>Supported values for sprops_opt:-</p>
<ul>
<li>collection - The collection to restrict search results from</li>
<li>directory - The directory uri to restrict search results from</li>
<li>transform - The transform to apply to the top level results object on the server</li>
<li>format - The format of the response. json or xml. json is the default if not specified</li>
</ul>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>query_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The query string. Optional. (Returns all documents if not supplied, or whatever returns from the additional-query in the json options used)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the installed options to use. Optional. In 0.7+ can also be a JSON options document, if used against MarkLogic 7</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>start_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">positiveInteger</span>


            
            </td>

            

            

            <td class="description last"><p>Index of the first result to return in the page. First index is 1 (not 0). Defaults to 1 if not provided.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>sprops_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>Additional optional search properties</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1685">line 1685</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="searchCollection"><span class="type-signature"></span>searchCollection<span class="signature">(collection_opt, query_opt, options_opt, sprops_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a search:search via REST. Helper method for SEARCH.</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>See supported search grammar <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_41745">http://docs.marklogic.com/guide/search-dev/search-api#id_41745</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>collection_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional collection to restrict the results to</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>query_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional query string</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional name of the installed query options to use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>sprops_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>Additional optional search properties</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1805">line 1805</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="searchOptions"><span class="type-signature"></span>searchOptions<span class="signature">(name, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches search options, if they exist, for the given search options name</p>
<p><a href="http://docs.marklogic.com/REST/PUT/v1/config/query/*">http://docs.marklogic.com/REST/PUT/v1/config/query/*</a></p>
<p>For structured serch options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the installed search options to retrieve as JSON</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2143">line 2143</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setLogger"><span class="type-signature"></span>setLogger<span class="signature">(newlogger)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Set the logging object to be used by this class and all wrappers. Must provide as a minimum a debug and info method that takes a single string.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>newlogger</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The logger object to use. Must support debug, log and info methods taking single string parameters.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-754">line 754</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="sparql"><span class="type-signature"></span>sparql<span class="signature">(sparql, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Executes the specified sparql query.</p>
<p><a href="http://docs.marklogic.com/REST/POST/v1/graphs/sparql">http://docs.marklogic.com/REST/POST/v1/graphs/sparql</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>sparql</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The sparql query text</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2499">line 2499</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="structuredSearch"><span class="type-signature"></span>structuredSearch<span class="signature">(query_opt, options_opt, sprops_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a structured search.</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>Uses structured search instead of cts:query style searches. See <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_53458">http://docs.marklogic.com/guide/search-dev/search-api#id_53458</a></p>
<p>Use this method in conjunction with the Query Builder {@see mljs.prototype.query}</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>query_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The optional structured query JSON to restrict the results by</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The optional name of the installed query options to use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>sprops_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>Additional optional search properties</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1956">line 1956</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(notificationurl, searchname, detail, contenttype, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and
subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Uses Adam Fowler's (me!) REST API extension for subscribing to searches. RESTful HTTP calls are sent with the new information to the specified url.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>notificationurl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The RESTful URL to invoke with a PUT to send the matching document to</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>detail</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The extra details to pass to the alert handler</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>contenttype</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Either json (default) or xml. If JSON, uses a basic V6 JSON configuration to convert all documents to.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3096">line 3096</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="suggest"><span class="type-signature"></span>suggest<span class="signature">(q, options_opt, additional_properties_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Suggest query completion based on the given partial query</p>
<p><a href="http://docs.marklogic.com/REST/GET/v1/suggest">http://docs.marklogic.com/REST/GET/v1/suggest</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>q</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The partial query to generate suggestions for</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>options_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The saved query options to use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>additional_properties_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">json</span>


            
            </td>

            

            

            <td class="description last"><p>Extra properties as a json object. E.g. q, limit, cursor-position</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2163">line 2163</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(notificationurl, searchname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and
subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Unsubscribe a notificationurl from a named search. Uses Adam Fowler's (me!) REST API extension.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>notificationurl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The RESTful URL to invoke with a PUT to send the matching document to</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3118">line 3118</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribeAndDelete"><span class="type-signature"></span>unsubscribeAndDelete<span class="signature">(notificationurl, searchname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and
subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Unsubscribe from an alert and delete the underlying saved search. Convenience method.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>notificationurl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The RESTful URL to invoke with a PUT to send the matching document to</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the search</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3138">line 3138</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="v7check"><span class="type-signature"></span>v7check<span class="signature">(v6func, v7func)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Uses the version rest extension to verify if we're on V7+ or less than V7. First func is called if less than V7, second func called if V7 or above.
Typically used internally by MLJS functions, but also potentially useful to app developers (hence being a public method)</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>v6func</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to call if MarkLogic is Version 6 (or unknown version)</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>v7func</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to call if MarkLogic is Version 7</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2051">line 2051</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="values"><span class="type-signature"></span>values<span class="signature">(query, tuplesname, optionsname, sprops_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches values from a lexicon or computes 2-way co-occurence.</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/values/*">https://docs.marklogic.com/REST/GET/v1/values/*</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The query string (string) or structured query (object) to use to restrict the results</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>tuplesname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the tuples in the installed search options to return</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>optionsname</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the installed search options to use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>sprops_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>Additional optional search properties</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2188">line 2188</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="valuesCombined"><span class="type-signature"></span>valuesCombined<span class="signature">(search, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Same functionality as values() but uses a combined search options and query mechanism.
This requires MarkLogic V7 EA 1 or above.</p>
<p><a href="http://docs-ea.marklogic.com/REST/POST/v1/values/*">http://docs-ea.marklogic.com/REST/POST/v1/values/*</a></p>
<p>For structured serch options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
<p>Executes the values configuration provided. The name 'shotgun' used below is not important. {@see mljs.prototype.subcollections} for an example usage.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>search</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last"><p>The JSON structured search to use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-2254">line 2254</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="version"><span class="type-signature"></span>version<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Requires custom rest API Extension version.xqy - Adam Fowler adam.fowler@marklogic.com - Fetches output of xdmp:version(). E.g. 7.0-1</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3279">line 3279</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="whoami"><span class="type-signature"></span>whoami<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - whoami.xqy - Adam Fowler adam.fowler@marklogic.com - Fetches information on the name and roles of the
currently logged in client api user.</p>
<p>Fetches information about the user behind the current session.</p>
<p>Useful is your webapp performs the login so your javascript doesn't know your username. Also looks up roles.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-3180">line 3180</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                
<dt>
    <h4 class="name" id="dboptions">dboptions</h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>MLJS connection configuration database options</p>
    </div>
    
    
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    

    
<dl class="details">
    

        <h5 class="subsection-title">Properties:</h5>

        <dl>

<table class="props table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>host</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The hostname or IP address of the MarkLogic server. Ignored for Browser use.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last"><p>The port of the MarkLogic server. Ignored for Browser use.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>adminport</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last"><p>The port of the MarkLogic server's admin access. Ignored for Browser use.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>ssl</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Whether to use http or https. Ignored for browser use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>How to authenticate to the server. Ignored for browser use. Valid options are &quot;digest&quot;, &quot;basic&quot; and &quot;none&quot;</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Ther username to authenticate with. Ignored for browser use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>User's password. Ignored for browser use</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>database</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The database to query or create. Browser use on V8+</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>searchoptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">json</span>


            
            </td>

            

            

            <td class="description last"><p>Not used</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>fastthreads</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last"><p>Not used</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>fastports</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last"><p>Not used</p></td>
        </tr>

	
	</tbody>
</table>
</dl>

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-98">line 98</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

            
                
<dt>
    <h4 class="name" id="elementSelectionJson">elementSelectionJson</h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>Which nodes to select in the XML to replace</p>
    </div>
    
    
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    

    
<dl class="details">
    

        <h5 class="subsection-title">Properties:</h5>

        <dl>

<table class="props table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>namespaces</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="mljs.html#elementSelectionJsonNamespaces">mljs.elementSelectionJsonNamespaces</a></span>


            
            </td>

            

            

            <td class="description last"><p>Namespaces to use
prefix, ns</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The context parameter for the rapi:replace-insert command</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>select</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The selection XPath for the element (property) to replace</p></td>
        </tr>

	
	</tbody>
</table>
</dl>

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1496">line 1496</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

            
                
<dt>
    <h4 class="name" id="elementSelectionJsonNamespaces">elementSelectionJsonNamespaces</h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>Array of namespace objects, with below members</p>
    </div>
    
    
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    

    
<dl class="details">
    

        <h5 class="subsection-title">Properties:</h5>

        <dl>

<table class="props table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>prefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The text prefix to use. E.g. 'xhtml'</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>ns</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The namespace uri. E.g. 'http://w3.org/xhtml/1999'</p></td>
        </tr>

	
	</tbody>
</table>
</dl>

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-1498">line 1498</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

            
                
<dt>
    <h4 class="name" id="result">result</h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>MLJS REST result wrapper object</p>
    </div>
    
    
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    

    
<dl class="details">
    

        <h5 class="subsection-title">Properties:</h5>

        <dl>

<table class="props table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The document returned, if applicable. XMLDocument or JSON object instance, or text for text docs only</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>inError</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Whether the call returned an error condition</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>statusCode</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The HTTP response code - normally numeric, but some http servers return dot-codes</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>format</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The high level format of the response, can be XML, json, text, or binary</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>mime</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The MIME content type returned in the content type header of the response</p></td>
        </tr>

	
	</tbody>
</table>
</dl>

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mljs.js.html">mljs.js</a>, <a href="mljs.js.html#sunlight-1-line-636">line 636</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

            </dl>
    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					MLJS - A JavaScript wrapper for the MarkLogic REST API
					<br />
					
					
		<span class="copyright">
		MarkLogic 2012-2014
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.3-dev</a>
		on Fri Nov 28 2014 10:21:01 GMT-0000 (GMT) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
			    anchorName  : function(i, heading, prefix) {
					return $(heading).attr("id") || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>