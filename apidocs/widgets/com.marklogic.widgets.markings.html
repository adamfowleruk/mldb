<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>MLJS Class: markings</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">MLJS</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="com.marklogic.widgets.bits.html">bits</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="com.marklogic.widgets.actionconfig.html">actionconfig</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.actionorderer.html">actionorderer</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.actions.javascript.html">javascript</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.addressbar.html">addressbar</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.advancedsearch.html">advancedsearch</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.collectionuris.html">collectionuris</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.configwrapper.html">configwrapper</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.cooccurence.html">cooccurence</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.create.html">create</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.docheadviewer.html">docheadviewer</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.docproperties.html">docproperties</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.docviewer.html">docviewer</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.dropzone.html">dropzone</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.entityfacts.html">entityfacts</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.error.html">error</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.graphexplorer.html">graphexplorer</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.highcharts.html">highcharts</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.kratu.html">kratu</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.layouts.column.html">column</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.layouts.thickthin.html">thickthin</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.layouts.thinthick.html">thinthick</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.layouts.thinthickthin.html">thinthickthin</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.layouts.threecolumns.html">threecolumns</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.layouts.twocolumns.html">twocolumns</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.markings.html">markings</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.openlayers.html">openlayers</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.profile.html">profile</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.rdb2rdf.html">rdb2rdf</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchbar.html">searchbar</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchfacets.html">searchfacets</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchoptions.html">searchoptions</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchpage.html">searchpage</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchpager.html">searchpager</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchresults.html">searchresults</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchselection.html">searchselection</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.searchsort.html">searchsort</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.selection.html">selection</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.sparqlbar.html">sparqlbar</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.sparqlresults.html">sparqlresults</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.workplace.html">workplace</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.workplaceadmin.html">workplaceadmin</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.workplacecontext.html">workplacecontext</a>
						</li>
						
						<li>
							<a href="com.marklogic.widgets.workplacenavbar.html">workplacenavbar</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="tutorial-001-intro.html">001-intro</a>
						</li>
						
						<li>
							<a href="tutorial-001-widgets-list.html">001-widgets-list</a>
						</li>
						
						<li>
							<a href="tutorial-002-intro-firstpage.html">002-intro-firstpage</a>
						</li>
						
						<li>
							<a href="tutorial-002-widgets-search.html">002-widgets-search</a>
						</li>
						
						<li>
							<a href="tutorial-003-widgets-search-render.html">003-widgets-search-render</a>
						</li>
						
						<li>
							<a href="tutorial-004-widgets-highcharts.html">004-widgets-highcharts</a>
						</li>
						
						<li>
							<a href="tutorial-011-browser-create-app.html">011-browser-create-app</a>
						</li>
						
						<li>
							<a href="tutorial-012-browser-install-app.html">012-browser-install-app</a>
						</li>
						
						<li>
							<a href="tutorial-013-browser-samples-app.html">013-browser-samples-app</a>
						</li>
						
						<li>
							<a href="tutorial-014-browser-workplace.html">014-browser-workplace</a>
						</li>
						
						<li>
							<a href="tutorial-020-angular.html">020-angular</a>
						</li>
						
						<li>
							<a href="tutorial-050-core-contexts.html">050-core-contexts</a>
						</li>
						
						<li>
							<a href="tutorial-051-core-custom-searchcontext-endpoint.html">051-core-custom-searchcontext-endpoint</a>
						</li>
						
						<li>
							<a href="tutorial-052-core-data-series-context.html">052-core-data-series-context</a>
						</li>
						
						<li>
							<a href="tutorial-060-rest-ext.html">060-rest-ext</a>
						</li>
						
						<li>
							<a href="tutorial-901-ontology.html">901-ontology</a>
						</li>
						
						<li>
							<a href="tutorial-999-samples.html">999-samples</a>
						</li>
						
						<li>
							<a href="tutorial-all.html">all</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-001-overview.html">dev1-001-overview</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-002-intro.html">dev1-002-intro</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-003-first-page.html">dev1-003-first-page</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-004-first-widget.html">dev1-004-first-widget</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-005-search-options.html">dev1-005-search-options</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-006-structured-query.html">dev1-006-structured-query</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-007-semantics.html">dev1-007-semantics</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-008-lunch.html">dev1-008-lunch</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-009-blending-mljs.html">dev1-009-blending-mljs</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-010-building-demo.html">dev1-010-building-demo</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-011-demo-jam.html">dev1-011-demo-jam</a>
						</li>
						
						<li>
							<a href="tutorial-dev1-012-home-time.html">dev1-012-home-time</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#com">com</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: markings</h1>
<section>

<header>
    <h2>
    markings
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="markings"><span class="type-signature"></span>new markings<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates a Markings widget. This enables the splitting in to sections of any XHTML document. These individual sections are delimited by headings (h tags, or paragraphs with &lt;6 words)
followed by one or more text paragraphs. Security read rights can be added to each section. The resultant document surrounds these in div tags with a special secure-content class attribute
and a read:ROLENAME class that determines the role name. This is intended to be used with search options and get transforms that always redact content being requested or returned in search results.</p>
<p>This widget itself respects redacted sections, but currntly does not provide any secure merge functionality.</p>
<p>This widget also has an option to suggest and save triples (facts about entities) based on configure XML elements embedded within the XHTML. This is intended to be used to extract and store
a named graph for each secure section of each document, with the same security as that document section. This can be queried via SPARQL.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="addErrorListener"><span class="type-signature"></span>addErrorListener<span class="signature">(fl)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Adds an error listener to this widget</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>fl</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The error listener to add</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-169">line 169</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="permissions"><span class="type-signature"></span>permissions<span class="signature">(list)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Specifies the read permission list, in ascending access level, to read the document or secure document section.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>list</code></td>
            

            <td class="type">
            
                
<span class="param-type">string[]</span>


            
            </td>

            

            

            <td class="description last"><p>String list of role names for a read permission. Normally part of a security compartment.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-227">line 227</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeErrorListener"><span class="type-signature"></span>removeErrorListener<span class="signature">(fl)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes an error listener</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>fl</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The error listener to remove</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-178">line 178</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="showDocument"><span class="type-signature"></span>showDocument<span class="signature">(uri)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Loads the specified XHTML document from MarkLogic and processes it (if required) for display. This function will automatically section the
document off if no div tags with a class of secure-content exist as immediate children of the document's body tag.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>uri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Document URI to load</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-684">line 684</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="tripleCollections"><span class="type-signature"></span>tripleCollections<span class="signature">(collections)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Specifies the collections (named graphs) to add any resultant triples in to. Supports text replacement of #URI# for the source document and #SECTIONID# for the source section id (of the secure section)</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>collections</code></td>
            

            <td class="type">
            
                
<span class="param-type">string[]</span>


            
            </td>

            

            

            <td class="description last"><p>String array of the collection(s), aka named graphs, to add the facts to. (NB Must result in a unique URI per document secure section)</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-187">line 187</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="triples"><span class="type-signature"></span>triples<span class="signature">(bool)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Specifies whether to support the suggesting and persisting of triples (default: false).</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>bool</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Allow triple extraction and editing?</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-207">line 207</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="updatePermissions"><span class="type-signature"></span>updatePermissions<span class="signature">(list)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Specifies the update permission list for the document only, in ascending access level order.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>list</code></td>
            

            <td class="type">
            
                
<span class="param-type">string[]</span>


            
            </td>

            

            

            <td class="description last"><p>String list of role names for a document update permission. Normally part of a security compartment.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-237">line 237</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="uriHandler"><span class="type-signature"></span>uriHandler<span class="signature">(metafield, urlreplace)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Specifies a URL pattern for a particular XHTML metadata field, if it exists. E.g. a meta tag with name originaldoc could map to the /documents/view?uri=#VALUE# url replacement pattern
Could also be used to look up related information. E.g. to find all documents with the same Subject metadata field, or execute a search with that data</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>metafield</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name attribute value for the meta tag to generate a hyperlink for</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>urlreplace</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The URL to send the user's browser to. Supports substitution via the #VALUE# string.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="widget-markings.js.html">widget-markings.js</a>, <a href="widget-markings.js.html#sunlight-1-line-218">line 218</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					MLJS - A JavaScript wrapper for the MarkLogic REST API
					<br />
					
					
		<span class="copyright">
		MarkLogic 2012-2014
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.3-dev</a>
		on Mon Dec 15 2014 15:17:41 GMT-0000 (GMT) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
			    anchorName  : function(i, heading, prefix) {
					return $(heading).attr("id") || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>