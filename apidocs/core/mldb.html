<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: mldb</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: mldb</h1>
    
    



<section>
    
<header>
    <h2>
    mldb
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="mldb"><span class="type-signature"></span>new mldb<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates an MLDB instance. Aliased to new mldb().</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line365">line 365</a>
    </li></ul></dd>
    
    
    
    <dt class="tag-tutorial">Tutorials:</dt>
    <dd class="tag-tutorial">
        <ul>
            <li><a href="tutorial-browser-create-app.html">browser-create-app</a></li>
        
            <li><a href="tutorial-samples.html">samples</a></li>
        </ul>
    </dd>
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Classes</h3>
        
        <dl>
            <dt><a href="options.html">options</a></dt>
            <dd></dd>
        
            <dt><a href="query.html">query</a></dt>
            <dd></dd>
        </dl>
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="beginTransaction"><span class="type-signature"></span>beginTransaction<span class="signature">(name_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Opens a new transaction. Optionally, specify your own name.
<a href="http://docs.marklogic.com/REST/POST/v1/transactions">http://docs.marklogic.com/REST/POST/v1/transactions</a></p>
<p>Note: Each mldb instance can only have one live transaction at a time. This is a limit imposed by myself by design, not by the underlying REST API. 
Best to configure a connection per real user-application pair.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>name_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the transaction. If not provided, 'client-txn' will be used. Likely not safe on a multi user system.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1599">line 1599</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="collect"><span class="type-signature"></span>collect<span class="signature">(collection, fields_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns all documents in a collection, optionally matching against the specified fields
<a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>collection</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The collection to list documents from</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>fields_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>Not used</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1052">line 1052</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="commitTransaction"><span class="type-signature"></span>commitTransaction<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Commits the open transaction
<a href="http://docs.marklogic.com/REST/POST/v1/transactions/*">http://docs.marklogic.com/REST/POST/v1/transactions/*</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1648">line 1648</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="configure"><span class="type-signature"></span>configure<span class="signature">(dboptions)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Provide configuration information to this database. This is merged with the defaults.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>dboptions</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The DB Options to merge with the default options for this connection.</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line377">line 377</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="create"><span class="type-signature"></span>create<span class="signature">(callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates the database and rest server if it does not already exist</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line718">line 718</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Deletes the specified document</p>
<p><a href="https://docs.marklogic.com/REST/DELETE/v1/documents">https://docs.marklogic.com/REST/DELETE/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>docuri</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>URI of the document to delete</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1027">line 1027</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="deleteGraph"><span class="type-signature"></span>deleteGraph<span class="signature">(uri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Deletes the specified graph from MarkLogic Server</p>
<p>No documentation URL - still in Early Access</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>uri</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the graph to delete. Required. (Cannot be 'default')</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1567">line 1567</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="deleteSavedSearch"><span class="type-signature"></span>deleteSavedSearch<span class="signature">(searchname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Delete the saved search. Assumes already unsubscribed from alerts used by it. (If not, alerts will still fire!)</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line2049">line 2049</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="destroy"><span class="type-signature"></span>destroy<span class="signature">(callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Destroys the database and rest api instance</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line743">line 743</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="do"><span class="type-signature"></span>do<span class="signature">(options_opt, content_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Function allowing MLDB's underlying REST invocation mechanism to be used for an arbitrary request. 
Useful for future proofing should some new functionality come out, or bug discovered that prevents
your use of a JavaScript Driver API call.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>options_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>{method: &quot;GET|POST|PUT|DELETE&quot;, path: &quot;/v1/somepath?key=value&amp;format=json&quot;}</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>content_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>undefined for GET, DELETE, json for PUT, whatever as required for POST</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the optional callback to invoke after the method has completed</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line658">line 658</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="exists"><span class="type-signature"></span>exists<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Does this database exist? Returns an object, not boolean, to the callback</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback function to invoke</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line681">line 681</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="fast"><span class="type-signature"></span>fast<span class="signature">(callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Generic wrapper to wrap any mldb code you wish to execute in parallel. E.g. uploading a mahoosive CSV file. Wrap ingestcsv with this and watch it fly!
NOTE: By default all E-node (app server requests, like the ones issued by this JavaScript wrapper) are executed in a map-reduce style. That is to say
they are highly parallelised by the server, automatically, if in a clustered environment. This is NOT what the fast function does. The fast function
is intended to wrap utility functionality (like CSV upload) where it may be possible to make throughput gains by running items in parallel. This is
akin to ML Content Pump (mlcp)'s -thread_count and -transaction_size ingestion options. See defaultdboptions for details</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1697">line 1697</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(docuri, options_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches a document with the given URI.</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/documents">https://docs.marklogic.com/REST/GET/v1/documents</a></p>
<p>options_opt currently supports these options:-</p>
<p>&lt;ul&gt;
 &lt;li&gt;transform - the name of the installed transform to use when fetching the document&lt;/li&gt;
&lt;/ul&gt;</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>docuri</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The URI of the document to retrieve</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>Additional optional options to use</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line815">line 815</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="graph"><span class="type-signature"></span>graph<span class="signature">(uri_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns the specified graph from MarkLogic Server, or the full default graph. USE CAREFULLY!
Returns the triples as a JSON {subject: &quot;...&quot;, predicate: &quot;...&quot;, object: &quot;...&quot;} array in result.triples, or the raw in result.doc</p>
<p>No documentation URL - still in Early Access</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>uri_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the grah to return. If not provided, the default MarkLogic graph (all triples, not just triples not in a named graph) will be returned.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes.</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1519">line 1519</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="ingestcsv"><span class="type-signature"></span>ingestcsv<span class="signature">(csvdata, docid_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Takes a csv file and adds to the database.
fast aware method</p>
<p>NOT YET IMPLEMENTED - Shell function only that will never call the callback</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>csvdata</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The CSV text to ingest</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>docid_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional URI of the document to store</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1726">line 1726</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="keyvalue"><span class="type-signature"></span>keyvalue<span class="signature">(key, value, keytype_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a simple key-value search. Of most use to JSON programmers.</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/keyvalue">https://docs.marklogic.com/REST/GET/v1/keyvalue</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>key</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The JSON key to use for document retrieval</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>value</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The value of the JSON key to match against candidate documents</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>keytype_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>What type to use for the key type. Defaults to 'key'. (i.e. JSON key, not element)</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1089">line 1089</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="list"><span class="type-signature"></span>list<span class="signature">(directory, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Lists all documents in a directory, to the specified depth (default: 1), optionally matching the specified fields
<a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>directory</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The directory URI to list documents within</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1071">line 1071</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="merge"><span class="type-signature"></span>merge<span class="signature">(json, docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Updates the document with the specified uri by only modifying the passed in properties.
NB May not be possible in V6 REST API elegantly - may need to do a full fetch, update, save</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>json</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The JSON document to merge with the existing document</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>docuri</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The URI of the document to update</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line978">line 978</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="mergeGraph"><span class="type-signature"></span>mergeGraph<span class="signature">(triples, uri_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Merges a set of triples in to an n-triples graph. Allows you to specify a named graph (collection) or use the default graph.</p>
<p>No documentation URL - still in Early Access</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>triples</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The raw N-triples (string) or JSON triples (object JSON array) to store</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>uri_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The graph name to replace. If not provided, the default MarkLogic graph (all triples) will be merged.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1482">line 1482</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="metadata"><span class="type-signature"></span>metadata<span class="signature">(docuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches the metadata for a document with the given URI. Metadata document returned in result.doc</p>
<p><a href="https://docs.marklogic.com/REST/GET/v1/documents">https://docs.marklogic.com/REST/GET/v1/documents</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>docuri</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The URI of the document whose metadata you want to retrieve.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line844">line 844</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="rollbackTransaction"><span class="type-signature"></span>rollbackTransaction<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Rolls back the open transaction.
<a href="http://docs.marklogic.com/REST/POST/v1/transactions/*">http://docs.marklogic.com/REST/POST/v1/transactions/*</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1664">line 1664</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="save"><span class="type-signature"></span>save<span class="signature">(jsonXmlBinary, docuri_opt, props_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Saves new docs with GUID-timestamp, new docs with specified id, or updates doc with specified id
NB handle json being an array of multiple docs rather than a single json doc
If no docuri is specified, one is generated by using a combination of the time and a large random number.</p>
<p><a href="https://docs.marklogic.com/REST/PUT/v1/documents">https://docs.marklogic.com/REST/PUT/v1/documents</a></p>
<p>props_opt can be used to provide extra options. These are:-</p>
<p>&lt;ul&gt;
 &lt;li&gt;collection - The comma delimited string of the collections to add the document to&lt;/li&gt;
 &lt;li&gt;contentType - The content type (MIME type) of the doc. Useful for uploaded binary documents.&lt;/li&gt;
 &lt;li&gt;format - The format of the response. Either json (default if not specified) or xml.&lt;/li&gt;
 &lt;li&gt;permissions - array of permission JSON objects to apply: E.g. [{role: 'secret-write', permissions: 'update|read|delete'}, ...]&lt;/li&gt;
&lt;/ul&gt;</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>jsonXmlBinary</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">json</span>
|

<span class="param-type">xml</span>
|

<span class="param-type">file</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The document content to save</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>docuri_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional URI of the document to create</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>props_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional additional properties to use.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line877">line 877</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveAll"><span class="type-signature"></span>saveAll<span class="signature">(doc_array, uri_array_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Inserts many JSON documents. FAST aware, TRANSACTION aware.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>doc_array</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The array of document data to store. {@see mldb.prototype.save} for valid values</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>uri_array_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional array of URIs to store the documents as. Will generate if not provided</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1737">line 1737</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveAll2"><span class="type-signature"></span>saveAll2<span class="signature">(doc_array, uri_array_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Alternative saveAll function that throttles invoking MarkLogic to a maximum number of simultaneous 'parallel' requests. (JavaScript is never truly parallel)</p>
<p>NB Uses an internal rv class defined in the mldb.js file.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>doc_array</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The array of document data to store. {@see mldb.prototype.save} for valid values</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>uri_array_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional array of URIs to store the documents as. Will generate if not provided</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1817">line 1817</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveBasicSearch"><span class="type-signature"></span>saveBasicSearch<span class="signature">(searchname, shared, query, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save a query as an XML document using the default search grammar (see search:search) with a given name</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>shared</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>query</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The search:search compatible query using the default grammar to use for the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1872">line 1872</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveCollectionSearch"><span class="type-signature"></span>saveCollectionSearch<span class="signature">(searchname, shared, collection, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save a query that matches documents created within a collection, with a given name</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>shared</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>collection</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The collection to restrict search results to</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1900">line 1900</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveExistingSearch"><span class="type-signature"></span>saveExistingSearch<span class="signature">(searchname, shared, searchdocuri, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save an arbitrary search (any cts:query) already stored in the database, with a given name. Enables easy referencing and activation of alerts on this search.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>shared</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>searchdocuri</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The URI to copy the search document from</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1959">line 1959</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveGeoNearSearch"><span class="type-signature"></span>saveGeoNearSearch<span class="signature">(searchname, shared, latitude, longitude, radius, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Save a geospatial search based on a point and radius from it, with a given name
TODO check if we need to include an alert module name in the options</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>shared</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>If false, the current user's username is prepended to the search name with a hyphen</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>latitude</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">decimal</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The WGS84 latitude for the centre of the radius search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>longitude</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">decimal</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The WGS84 longitude for the centre of the radius search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>radius</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">decimal</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The radius in statue (nor nautical) miles</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1931">line 1931</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveGraph"><span class="type-signature"></span>saveGraph<span class="signature">(triples, uri_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Saves a set of triples as an n-triples graph. Allows you to specify a named graph (collection) or use the default graph.</p>
<p>No documentation URL - still in Early Access, docs only available on internal MarkLogic wiki</p>
<p>I'm using an easy to interpret JSON triples format. This prevents the user of this function from having to know the
n-triples format. Here is an example:-
triples = [{subject: &quot;<a href="http://someiri/#here">http://someiri/#here</a>&quot;, predicate: &quot;<a href="http://someiri/#here">http://someiri/#here</a>&quot;, object: &quot;<a href="http://someiri/#here&quot;}">http://someiri/#here&quot;}</a>,... ]</p>
<p>Note: We assume that the 'object' if provided as JSON triples is an IRI, not a string or other primitive value.
Construct your own N-triples if you need to provide raw primitive values.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>triples</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The raw N-triples (string) or JSON triples (object JSON array) to store</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>uri_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The graph name to replace. If not provided, the default MarkLogic graph (all triples) will be replaced.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1445">line 1445</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="saveSearchOptions"><span class="type-signature"></span>saveSearchOptions<span class="signature">(name, searchoptions, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Saves search options with the given name. These are referred to by mldb.structuredSearch.
<a href="http://docs.marklogic.com/REST/PUT/v1/config/query/*">http://docs.marklogic.com/REST/PUT/v1/config/query/*</a></p>
<p>For structured search options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
<p>Use this function in conjunction with the Search Options Builder. {@see mldb.prototype.options}</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>name</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name to install the search options under</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>searchoptions</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The search options JSON object. {@see mldb.prototype.options.prototype.toJson}</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1301">line 1301</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(query_opt, options_opt, start_opt, sprops_opt, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a search:search via REST
<a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>See supported search grammar <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_41745">http://docs.marklogic.com/guide/search-dev/search-api#id_41745</a> </p>
<p>Supported values for sprops_opt:-</p>
<p>&lt;ul&gt;
 &lt;li&gt;collection - The collection to restrict search results from&lt;/li&gt;
 &lt;li&gt;directory - The directory uri to restrict search results from&lt;/li&gt;
 &lt;li&gt;transform - The transform to apply to the top level results object on the server&lt;/li&gt;
 &lt;li&gt;format - The format of the response. json or xml. json is the default if not specified&lt;/li&gt;
&lt;/ul&gt;</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The query string. Optional. (Returns all documents if not supplied, or whatever returns from the additional-query in the json options used)</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the installed options to use. Optional. In 0.7+ can also be a JSON options document, if used against MarkLogic 7</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>start_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">positiveInteger</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>Index of the first result to return in the page. First index is 1 (not 0). Defaults to 1 if not provided.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>sprops_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>Additional optional search properties</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1131">line 1131</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="searchCollection"><span class="type-signature"></span>searchCollection<span class="signature">(collection_opt, query_opt, options_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a search:search via REST. Helper method for SEARCH.
<a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>See supported search grammar <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_41745">http://docs.marklogic.com/guide/search-dev/search-api#id_41745</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>collection_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional collection to restrict the results to</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>query_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional query string</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional name of the installed query options to use</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1228">line 1228</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="searchoptions"><span class="type-signature"></span>searchoptions<span class="signature">(name, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches search options, if they exist, for the given search options name
<a href="http://docs.marklogic.com/REST/PUT/v1/config/query/*">http://docs.marklogic.com/REST/PUT/v1/config/query/*</a></p>
<p>For structured serch options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>name</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the installed search options to retrieve as JSON</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1318">line 1318</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setLogger"><span class="type-signature"></span>setLogger<span class="signature">(newlogger)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Set the logging object to be used by this class and all wrappers. Must provide as a minimum a debug and info method that takes a single string.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>newlogger</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The logger object to use. Must support debug, log and info methods taking single string parameters.</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line465">line 465</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="structuredSearch"><span class="type-signature"></span>structuredSearch<span class="signature">(query_opt, options_opt, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Performs a structured search.
<a href="http://docs.marklogic.com/REST/GET/v1/search">http://docs.marklogic.com/REST/GET/v1/search</a></p>
<p>Uses structured search instead of cts:query style searches. See <a href="http://docs.marklogic.com/guide/search-dev/search-api#id_53458">http://docs.marklogic.com/guide/search-dev/search-api#id_53458</a></p>
<p>Use this method in conjunction with the Query Builder {@see mldb.prototype.query}</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional query string to restrict the results by</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional name of the installed query options to use</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1265">line 1265</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="subcollections"><span class="type-signature"></span>subcollections<span class="signature">(parenturi, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Lists the collection URIS underneath the parent uri.
Helper method to fetch collections from the collection lexicon using mldb.valuesCombined().</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>parenturi</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The collection URI under which to retrieve the list of subcollections</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1380">line 1380</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(notificationurl, searchname, detail, contenttype, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Uses Adam Fowler's (me!) REST API extension for subscribing to searches. RESTful HTTP calls are sent with the new information to the specified url.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notificationurl</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The RESTful URL to invoke with a PUT to send the matching document to</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>detail</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The extra details to pass to the alert handler</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>contenttype</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>Either json (default) or xml. If JSON, uses a basic V6 JSON configuration to convert all documents to.</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1992">line 1992</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(notificationurl, searchname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Unsubscribe a notificationurl from a named search. Uses Adam Fowler's (me!) REST API extension.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notificationurl</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The RESTful URL to invoke with a PUT to send the matching document to</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line2012">line 2012</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribeAndDelete"><span class="type-signature"></span>unsubscribeAndDelete<span class="signature">(notificationurl, searchname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - subscribe-resource.xqy - Adam Fowler adam.fowler@marklogic.com - Save searches by name, and subscribe to alerts from them. Alerts sent to a given URL.</p>
<p>Unsubscribe from an alert and delete the underlying saved search. Convenience method.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notificationurl</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The RESTful URL to invoke with a PUT to send the matching document to</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>searchname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the search</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line2031">line 2031</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="values"><span class="type-signature"></span>values<span class="signature">(query, tuplesname, optionsname, callback_opt)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Fetches values from a lexicon or computes 2-way co-occurence.
<a href="https://docs.marklogic.com/REST/GET/v1/values/*">https://docs.marklogic.com/REST/GET/v1/values/*</a></p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The query string (string) or structured query (object) to use to restrict the results</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>tuplesname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the tuples in the installed search options to return</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optionsname</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The name of the installed search options to use</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback_opt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The optional callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1335">line 1335</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="valuesCombined"><span class="type-signature"></span>valuesCombined<span class="signature">(search, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Same functionality as values() but uses a combined search options and query mechanism.
This requires MarkLogic V7 EA 1 or above
<a href="http://docs-ea.marklogic.com/REST/POST/v1/values/*">http://docs-ea.marklogic.com/REST/POST/v1/values/*</a></p>
<p>For structured serch options see <a href="http://docs.marklogic.com/guide/rest-dev/search#id_48838">http://docs.marklogic.com/guide/rest-dev/search#id_48838</a></p>
<p>Executes the values configuration provided. The name 'shotgun' used below is not important. {@see mldb.prototype.subcollections} for an example usage.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>search</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The JSON structured search to use</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line1363">line 1363</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="whoami"><span class="type-signature"></span>whoami<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>REQUIRES CUSTOM REST API EXTENSION - whoami.xqy - Adam Fowler adam.fowler@marklogic.com - Fetches information on the name and roles of the currently logged in client api user.</p>
<p>Fetches information about the user behind the current session.</p>
<p>Useful is your webapp performs the login so your javascript doesn't know your username. Also looks up roles.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>The callback to invoke after the method completes</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mldb.js.html">mldb.js</a>, <a href="mldb.js.html#line2071">line 2071</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="BasicWrapper.html">BasicWrapper</a></li><li><a href="DigestWrapper.html">DigestWrapper</a></li><li><a href="mldb.html">mldb</a></li><li><a href="options.html">options</a></li><li><a href="query.html">query</a></li><li><a href="PassThroughWrapper.html">PassThroughWrapper</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-all.html">all</a></li><li><a href="tutorial-browser-create-app.html">browser-create-app</a></li><li><a href="tutorial-samples.html">samples</a></li></ul><h3>Global</h3><ul><li><a href="global.html#padNC">padNC</a></li><li><a href="global.html#parseDigest">parseDigest</a></li><li><a href="global.html#textToXML">textToXML</a></li><li><a href="global.html#xmlToJson">xmlToJson</a></li><li><a href="global.html#xmlToJsonSearchResults">xmlToJsonSearchResults</a></li><li><a href="global.html#xmlToJsonStrict">xmlToJsonStrict</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Sun May 12 2013 17:57:43 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>